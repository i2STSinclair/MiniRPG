You are GitHub Copilot inside Visual Studio 2022.

Modify BattleViewModel.cs and MainViewModel.cs.

BattleViewModel.cs:
• Add a new public event Action<string> BattleEnded;  // message can be "Victory" or "Defeat"
• After checking if EnemyHP <= 0, call BattleEnded?.Invoke("Victory");
• After checking if Player.HP <= 0, call BattleEnded?.Invoke("Defeat");

MainViewModel.cs:
• Subscribe to BattleEnded when creating BattleViewModel.
• When triggered:
   - AddLog($"Battle ended with result: {result}");
   - Optionally wait 1 second (use async/await Task.Delay(1000))
   - Switch CurrentViewModel back to new MapViewModel
   - Keep the GlobalLog persistent
• Add TODO comment: // Later, implement rewards and experience points after victory

---

After you finish, update the Readme.md file with the changes.